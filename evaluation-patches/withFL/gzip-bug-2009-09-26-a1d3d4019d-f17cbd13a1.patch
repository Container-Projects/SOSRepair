diff --git a/gzip.c b/gzip.c
index fc2e7dc..3f4ea1c 100644
--- a/gzip.c
+++ b/gzip.c
@@ -650,6 +650,8 @@ local void treat_stdin()
     clear_bufs(); /* clear input and output buffers */
     to_stdout = 1;
     part_nb = 0;
+ifd = 0;
+
 
     if (decompress) {
 	method = get_method(ifd);
