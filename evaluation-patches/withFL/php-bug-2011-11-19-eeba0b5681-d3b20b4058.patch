diff --git a/ext/phar/phar.c b/ext/phar/phar.c
index ef7936b..cadb44f 100644
--- a/ext/phar/phar.c
+++ b/ext/phar/phar.c
@@ -1570,7 +1570,15 @@ static int phar_open_from_fp(php_stream* fp, char *fname, int fname_len, char *a
 	const char gz_magic[] = "\x1f\x8b\x08";
 	const char bz_magic[] = "BZh";
 	char *pos, test = '\0';
-	const int window_size = 1024 + sizeof(token);
+	int window_size = 1024 + sizeof(token);
+{
+		window_size = 1024;
+	}
+
+
+
+
+
 	char buffer[1024 + sizeof(token)]; /* a 1024 byte window + the size of the halt_compiler token (moving window) */
 	const long readsize = sizeof(buffer) - sizeof(token);
 	const long tokenlen = sizeof(token) - 1;
@@ -1579,6 +1587,7 @@ static int phar_open_from_fp(php_stream* fp, char *fname, int fname_len, char *a
 	php_uint32 compression = PHAR_FILE_COMPRESSED_NONE;
 
 	if (error) {
+
 		*error = NULL;
 	}
 
