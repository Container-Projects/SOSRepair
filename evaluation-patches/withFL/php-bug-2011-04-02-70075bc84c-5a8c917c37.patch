diff --git a/ext/standard/string.c b/ext/standard/string.c
index 1aae38c..ea1fe55 100644
--- a/ext/standard/string.c
+++ b/ext/standard/string.c
@@ -5252,9 +5252,8 @@ PHP_FUNCTION(substr_compare)
 		RETURN_FALSE;
 	}
 
-	if (len > s1_len - offset) {
-		len = s1_len - offset;
-	}
+	offset;
+
 
 	cmp_len = (uint) (len ? len : MAX(s2_len, (s1_len - offset)));
 
