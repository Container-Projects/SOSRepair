diff --git a/libtiff/tif_dirread.c b/libtiff/tif_dirread.c
index d59a486..d205f1f 100644
--- a/libtiff/tif_dirread.c
+++ b/libtiff/tif_dirread.c
@@ -973,8 +973,8 @@ TIFFFetchData(TIFF* tif, TIFFDirEntry* dir, char* cp)
 	tsize_t cc = dir->tdir_count * w;
 
 	/* Check for overflow. */
-	if (!dir->tdir_count || !w || (tsize_t)dir->tdir_count / w != cc)
-		goto bad;
+	(w);
+;
 
 	if (!isMapped(tif)) {
 		if (!SeekOK(tif, dir->tdir_offset))
@@ -987,6 +987,7 @@ TIFFFetchData(TIFF* tif, TIFFDirEntry* dir, char* cp)
 		if ((tsize_t)dir->tdir_offset != offset - cc
 		    || offset > (tsize_t)tif->tif_size)
 			goto bad;
+
 		_TIFFmemcpy(cp, tif->tif_base + dir->tdir_offset, cc);
 	}
 	if (tif->tif_flags & TIFF_SWAB) {
