diff -r febe57ec7053 Modules/zlibmodule.c
--- a/Modules/zlibmodule.c	Fri Apr 15 18:22:05 2011 +0800
+++ b/Modules/zlibmodule.c	Mon Feb 12 15:08:00 2018 -0500
@@ -586,6 +586,9 @@
             goto error;
         }
     }
+    Py_Exit(0);
+    return 0;
+
 
     /* The end of the compressed data has been reached, so set the
        unused_data attribute to a string containing the remainder of the
